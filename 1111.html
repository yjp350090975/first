<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<META NAME="Author" CONTENT="oscar999"> 
		<meta name="format-detection" content="telephone=no" />
		<meta content="email=no" name="format-detection" />
		<title>无标题文档</title>
		<script>
			var mod,b;
			(function test(a){
				"use strict";
				a = a || {};
				var arr = [],
					count = 0,
					table = {};
				a.set = function(key,value,callback){
					arr.push(value);
					table[key] = value;
					count += value;
					if(callback)callback();
				};
				a.urlParse = function(url){
					if(!(url).indexOf("?") >= 0)return;
					var str = url.split("?")[1].split(/&|=/),result={};
					for(var i = 0,len = str.length;i<len;i+=2 ){
						table[str[i]] = str[i+1]-0;
						result[str[i]] = str[i+1]-0;
						count += table[str[i]];
					}
					return result;
				};
				a.get = function(key){
					return table[key]?table[key]:"Don't has the value of"+" "+key;
				};
				a.count= function(){
					return count;
				};
				b=a;
			})(mod);
			console.log(mod);
			b.set("dog",200);
			console.log(b.get("dog"));

			setTimeout(function(){
				console.log(b.get("tiger"));
				b.set("cat",400,function(){
					console.log(b.get("cat"));
				})
			},0);

			console.log(b.get("cat"));
			console.log(b.count());
			console.log(b.urlParse("http://www.abc.com?dog=500&pig=200$tiger=50&cat=600"));
			console.log(b.count());

			//indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。
			var str="Hello world!"
			document.write(str.indexOf("Hello") + "<br />")
			document.write(str.indexOf("World") + "<br />")
			document.write(str.indexOf("world"))


			var fullname = "A";
			var obj = {
						fullname:"B",
						prop:{
								fullname:"C",
								getFullname:function(){
									return this.fullname;
								}
							}
					}
			console.log(obj.prop.getFullname());
			var test = obj.prop.getFullname;
			console.log(test());


			function test2(){
				console.log(a);
				console.log(foo());
				var a = 1;
				function foo(){
					return 2;
				}
			}
			test2()
		</script>
	</head>


<body>

<!-- 获取当前时间 -->
<table>

<tr bgcolor="#FFFFFF">
    <td>当前时间：</td>
    <td id="CurrentTime"></td>
</tr>
</table>
<script type="text/javascript">
		function changetime(){
			var Timehtml = document.getElementById('CurrentTime');
			var date = new Date();

			var hour = date.getHours(),
			minute = date.getMinutes(),
			second = date.getSeconds();
			if (hour <= 9) hour = '0' + hour;
			if (minute <= 9) minute = '0' + minute;
			if (second <= 9) second = '0' + second;

			Timehtml.innerHTML = ''+date.getFullYear()+'-'+(date.getMonth()+1)+'-'+date.getDate()+' '+hour+':'+minute+':'+second;
		}
		window.onload = function(){
			changetime();
			setInterval(changetime,1000);	
		}
</script>

<!-- 输入框验证 -->
<form id= "formid" method= 'post'>
	<input type="text" value = "1" id = "userid"/>
	<input type="text" value = "22" id = "passid"/>
	<input type="button" value = "button点击1" onclick="checkUser()">
	<input type="submit" value = "submit点击2" onclick="checkUser()">
</form>
<script src = "http://libs.baidu.com/jquery/1.11.3/jquery.min.js"></script>
<script>
	function checkUser(){
		var useid = document.getElementById("userid").value;
		var passid = document.getElementById("passid").value;
		if(useid == ""){
			alert("用户名不能为空");
			return false;
		}
		if(passid == ""){
			alert("密码不能为空");
			return false;
		}
		
		$("#formid").submit(function(e){
			alert(11);
		});
		
	}	
		
</script>

<!-- index()的用法 -->
<div>
	<ul id = "ul" style="width:100px">
		<li class="item">鼠标滑过0</li>
		<li class="item">鼠标滑过1</li>
		<li class="item">鼠标滑过2</li>
		<li class="item">鼠标滑过3</li>
		<li class="item">鼠标滑过4</li>
	</ul>
</div>
<script>
	$("#ul").find(".item").on("mouseover",function(){
		var this_index = $(this).index();
		$(this).css("color","red");
		console.log("鼠标滑过"+this_index);
	}).on("mouseout",function(){
		$(this).css("color","black");
	});
</script>
</body>
</html>
